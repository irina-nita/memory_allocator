MEMORY ALLOCATOR

* free block header
```
23                                   14                                   7                                    0
| ---------------------------------- | ---------------------------------- | ---------------------------------- |
| header.flags                       | header.next                        | header.prev                        |
|(size                         | f/a)|                                    |                                    |
| ---------------------------------- | ---------------------------------- | ---------------------------------- |
```

* allocated block header
```
7                                    0
| flags                              |
|(size                         | f/a)|
| ---------------------------------- |
```
* footer
```
7                                    0
| flags                              |
|(size                         | f/a)|
| ---------------------------------- |
```

* free block
```
| 24 bytes                           | aligned to 8 bytes                        | 8 bytes                            |
| ---------------------------------- | ----------------------------------------- | ---------------------------------- |
| free block header                  | payload               | padding           | footer                             |
| ---------------------------------- | ----------------------------------------  | ---------------------------------- |
```
* allocated block
```
| 8 bytes                            | aligned to 8 bytes                        | 8 bytes                            |
| ---------------------------------- | ----------------------------------------- | ---------------------------------- |
| allocated block header             | payload               | padding           | footer                             |
| ---------------------------------- | ----------------------------------------  | ---------------------------------- |
```

* buckets

```
| buckets[0]          | ------> | free block <= 8 bytes | ------> | free block <= 8 bytes |
|                     | <------ |                       | <------ |                       |
```

* split
```
* before split

| 24 bytes                           | aligned to 8 bytes                                                    | 8 bytes       |
| ---------------------------------- | --------------------------------------------------------------------- | ------------- |
| free block header                  | payload                                                  | padding    | footer        |
| ---------------------------------- | --------------------------------------------------------------------- | ------------- |

.
.
.

* after split

| 8 bytes                | aligned to 8 bytes | 8 bytes | 24 bytes          | aligned to 8 bytes             | 8 bytes       |
| ---------------------- | ------------------ | ------- | ----------------- | ------------------------------ | ------------- |
| allocated block header | payload | padding  | footer  | free block header | payload          | padding     | footer        |
| ---------------------- | -----------------------------------------------  | ------------------------------ | ------------- |
```

* coalescing
```
| 24 bytes               | aligned to 8 bytes | 8 bytes | 24 bytes          | aligned to 8 bytes             | 8 bytes       |
| ---------------------- | ------------------ | ------- | ----------------- | ------------------------------ | ------------- |
| free block header      | payload | padding  | footer  | free block header | payload          | padding     | footer        |
| ---------------------- | -----------------------------------------------  | ------------------------------ | ------------- |

.
.
.

| 24 bytes                           | aligned to 8 bytes                                                    | 8 bytes       |
| ---------------------------------- | --------------------------------------------------------------------- | ------------- |
| free block header                  | payload                                                  | padding    | footer        |
| ---------------------------------- | --------------------------------------------------------------------- | ------------- |
```